import{d as G,r as g,q as $,o as J,c,e as s,t as L,z as r,A as u,F as S,y as V,C as x,x as M,D as O,j as P,b as v}from"./vendor-BIB9HGHL.js";const R={class:"space-y-6"},q={class:"card p-6"},A={class:"grid md:grid-cols-2 gap-6"},X={class:"space-y-4"},K={class:"relative"},Q={class:"space-y-2"},W={class:"grid grid-cols-8 gap-2"},Y=["onClick","title"],Z={class:"space-y-4"},tt={class:"text-center text-white mix-blend-difference font-semibold"},st={class:"space-y-3"},et={class:"space-y-1"},ot={class:"flex gap-2"},lt={class:"space-y-1"},nt={class:"flex gap-2"},at={class:"space-y-1"},it={class:"flex gap-2"},dt={class:"space-y-1"},rt={class:"flex gap-2"},ut={class:"card p-6"},ct={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},vt=["onClick","title"],pt={class:"text-center"},mt={class:"text-xs font-mono"},bt={class:"text-xs text-muted-foreground"},ft={class:"card p-6"},gt={class:"space-y-4"},xt={class:"flex gap-4"},yt={class:"space-y-2"},ht={class:"space-y-2"},Ct={class:"space-y-2"},kt={class:"space-y-1"},_t={class:"flex gap-2"},$t={key:0,class:"card p-6"},St={class:"flex flex-wrap gap-2"},Vt=["onClick","title"],Ut=G({__name:"color-picker",setup(Mt){const i=g("#3b82f6"),h=g("#3b82f6"),C=g("#ef4444"),k=g("to right"),d=g([]),I=["#ef4444","#f97316","#f59e0b","#84cc16","#22c55e","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#a855f7","#ec4899","#f43f5e","#64748b","#374151","#1f2937","#000000"],n=$(()=>{const o=i.value,t=w(o),e=B(t.r,t.g,t.b);return{hex:o.toUpperCase(),rgb:`rgb(${t.r}, ${t.g}, ${t.b})`,hsl:`hsl(${e.h}, ${e.s}%, ${e.l}%)`,cssVar:`--color-primary: ${o};`}}),T=$(()=>{const o=w(i.value),t=[];for(let e=0;e<5;e++){const l=(e+1)*.2,a=D(o,l);t.push({hex:N(a.r,a.g,a.b),name:`明度 ${Math.round(l*100)}%`})}return t}),y=$(()=>`linear-gradient(${k.value}, ${h.value}, ${C.value})`),w=o=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}},N=(o,t,e)=>"#"+((1<<24)+(o<<16)+(t<<8)+e).toString(16).slice(1),B=(o,t,e)=>{o/=255,t/=255,e/=255;const l=Math.max(o,t,e),a=Math.min(o,t,e);let b=0,U=0,H=(l+a)/2;if(l!==a){const f=l-a;switch(U=H>.5?f/(2-l-a):f/(l+a),l){case o:b=(t-e)/f+(t<e?6:0);break;case t:b=(e-o)/f+2;break;case e:b=(o-t)/f+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(U*100),l:Math.round(H*100)}},D=(o,t)=>({r:Math.min(255,Math.round(o.r+(255-o.r)*t)),g:Math.min(255,Math.round(o.g+(255-o.g)*t)),b:Math.min(255,Math.round(o.b+(255-o.b)*t))}),p=()=>{E(i.value)},_=()=>{},E=o=>{d.value.includes(o)||(d.value.unshift(o),d.value.length>20&&(d.value=d.value.slice(0,20)),j())},F=()=>{d.value=[],localStorage.removeItem("color-picker-history")},j=()=>{localStorage.setItem("color-picker-history",JSON.stringify(d.value))},z=()=>{const o=localStorage.getItem("color-picker-history");o&&(d.value=JSON.parse(o))},m=async o=>{try{await navigator.clipboard.writeText(o)}catch(t){console.error("复制失败:",t)}};return J(()=>{z(),p()}),(o,t)=>(v(),c("div",R,[s("div",q,[t[19]||(t[19]=s("h2",{class:"text-xl font-semibold mb-4"},"颜色选择器",-1)),s("div",A,[s("div",X,[s("div",K,[r(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),type:"color",class:"w-full h-32 rounded-lg border cursor-pointer",onInput:p},null,544),[[u,i.value]])]),s("div",Q,[t[14]||(t[14]=s("h4",{class:"text-sm font-medium"},"常用颜色",-1)),s("div",W,[(v(),c(S,null,V(I,e=>s("button",{key:e,onClick:l=>{i.value=e,p()},style:x({backgroundColor:e}),class:"w-8 h-8 rounded border hover:scale-110 transition-transform",title:e},null,12,Y)),64))])])]),s("div",Z,[s("div",{class:"p-4 rounded-lg border",style:x({backgroundColor:i.value})},[s("div",tt,M(i.value),1)],4),s("div",st,[s("div",et,[t[15]||(t[15]=s("label",{class:"text-sm font-medium"},"HEX",-1)),s("div",ot,[r(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.value.hex=e),class:"input flex-1 font-mono",readonly:""},null,512),[[u,n.value.hex]]),s("button",{onClick:t[2]||(t[2]=e=>m(n.value.hex)),class:"btn btn-secondary btn-sm"}," 复制 ")])]),s("div",lt,[t[16]||(t[16]=s("label",{class:"text-sm font-medium"},"RGB",-1)),s("div",nt,[r(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.value.rgb=e),class:"input flex-1 font-mono",readonly:""},null,512),[[u,n.value.rgb]]),s("button",{onClick:t[4]||(t[4]=e=>m(n.value.rgb)),class:"btn btn-secondary btn-sm"}," 复制 ")])]),s("div",at,[t[17]||(t[17]=s("label",{class:"text-sm font-medium"},"HSL",-1)),s("div",it,[r(s("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.value.hsl=e),class:"input flex-1 font-mono",readonly:""},null,512),[[u,n.value.hsl]]),s("button",{onClick:t[6]||(t[6]=e=>m(n.value.hsl)),class:"btn btn-secondary btn-sm"}," 复制 ")])]),s("div",dt,[t[18]||(t[18]=s("label",{class:"text-sm font-medium"},"CSS Variable",-1)),s("div",rt,[r(s("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.value.cssVar=e),class:"input flex-1 font-mono",readonly:""},null,512),[[u,n.value.cssVar]]),s("button",{onClick:t[8]||(t[8]=e=>m(n.value.cssVar)),class:"btn btn-secondary btn-sm"}," 复制 ")])])])])])]),s("div",ut,[t[20]||(t[20]=s("h3",{class:"text-lg font-semibold mb-4"},"相似色调色板",-1)),s("div",ct,[(v(!0),c(S,null,V(T.value,(e,l)=>(v(),c("div",{key:l,class:"space-y-2"},[s("div",{class:"h-20 rounded-lg border cursor-pointer hover:scale-105 transition-transform",style:x({backgroundColor:e.hex}),onClick:a=>{i.value=e.hex,p()},title:`点击选择 ${e.hex}`},null,12,vt),s("div",pt,[s("div",mt,M(e.hex),1),s("div",bt,M(e.name),1)])]))),128))])]),s("div",ft,[t[26]||(t[26]=s("h3",{class:"text-lg font-semibold mb-4"},"渐变生成器",-1)),s("div",gt,[s("div",xt,[s("div",yt,[t[21]||(t[21]=s("label",{class:"text-sm font-medium"},"起始颜色",-1)),r(s("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>h.value=e),type:"color",class:"w-16 h-10 rounded border",onInput:_},null,544),[[u,h.value]])]),s("div",ht,[t[22]||(t[22]=s("label",{class:"text-sm font-medium"},"结束颜色",-1)),r(s("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>C.value=e),type:"color",class:"w-16 h-10 rounded border",onInput:_},null,544),[[u,C.value]])]),s("div",Ct,[t[24]||(t[24]=s("label",{class:"text-sm font-medium"},"方向",-1)),r(s("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>k.value=e),onChange:_,class:"input"},t[23]||(t[23]=[P('<option value="to right">向右</option><option value="to left">向左</option><option value="to bottom">向下</option><option value="to top">向上</option><option value="45deg">45度</option><option value="90deg">90度</option><option value="135deg">135度</option><option value="180deg">180度</option>',8)]),544),[[O,k.value]])])]),s("div",{class:"h-24 rounded-lg border",style:x({background:y.value})},null,4),s("div",kt,[t[25]||(t[25]=s("label",{class:"text-sm font-medium"},"CSS 代码",-1)),s("div",_t,[r(s("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>y.value=e),class:"input flex-1 font-mono text-sm",readonly:""},null,512),[[u,y.value]]),s("button",{onClick:t[13]||(t[13]=e=>m(y.value)),class:"btn btn-primary btn-sm"}," 复制 CSS ")])])])]),d.value.length>0?(v(),c("div",$t,[s("div",{class:"flex items-center justify-between mb-4"},[t[27]||(t[27]=s("h3",{class:"text-lg font-semibold"},"历史记录",-1)),s("button",{onClick:F,class:"btn btn-secondary btn-sm"}," 清空历史 ")]),s("div",St,[(v(!0),c(S,null,V(d.value,(e,l)=>(v(),c("button",{key:l,onClick:a=>{i.value=e,p()},class:"w-8 h-8 rounded border hover:scale-110 transition-transform",style:x({backgroundColor:e}),title:e},null,12,Vt))),128))])])):L("",!0)]))}});export{Ut as default};
