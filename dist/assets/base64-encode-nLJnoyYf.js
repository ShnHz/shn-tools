import{d as V,r as n,q as h,c as v,e,t as b,j as D,z as _,A as B,x as a,k as p,b as m}from"./vendor-BIB9HGHL.js";const O={class:"space-y-6"},E={class:"grid md:grid-cols-2 gap-6"},$={class:"space-y-4"},A={class:"flex items-center justify-between"},q=["disabled"],G=["disabled"],H={class:"space-y-4"},J={class:"flex items-center justify-between"},K=["disabled"],P=["disabled"],Q={key:0,class:"p-3 bg-destructive/10 border border-destructive/20 rounded-md"},W={class:"text-sm text-destructive"},X={key:0,class:"card p-6"},Y={class:"flex items-center justify-between mb-4"},Z={class:"text-lg font-semibold"},ee={class:"flex gap-2"},te={class:"relative"},se={class:"bg-muted p-4 rounded-md text-sm font-mono overflow-auto max-h-[300px] border"},oe={class:"mt-3 text-sm text-muted-foreground"},le={class:"card p-6"},ae={class:"space-y-4"},ne={class:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center"},de={key:0,class:"space-y-4"},ie={class:"grid md:grid-cols-2 gap-4 text-sm"},re={class:"space-y-2"},ce=["value"],me=V({__name:"base64-encode",setup(ue){const d=n(""),i=n(""),l=n(""),r=n("encode"),c=n(""),u=n(""),f=n(""),x=n(""),y=n(""),k=h(()=>r.value==="encode"?d.value.length:i.value.length),w=h(()=>l.value?`${r.value==="encode"?(l.value.length/d.value.length*100).toFixed(1):(l.value.length/i.value.length*100).toFixed(1)}%`:"0%"),R=()=>{try{l.value=btoa(unescape(encodeURIComponent(d.value))),r.value="encode",c.value=""}catch{c.value="编码失败，请检查输入内容"}},C=()=>{try{l.value=decodeURIComponent(escape(atob(i.value))),r.value="decode",c.value=""}catch{c.value="解码失败，请检查Base64格式是否正确",l.value=""}},U=()=>{d.value="",r.value==="encode"&&(l.value="")},I=()=>{i.value="",r.value==="decode"&&(l.value=""),c.value=""},L=async()=>{try{await navigator.clipboard.writeText(l.value)}catch(o){console.error("复制失败:",o)}},j=()=>{const o=new Blob([l.value],{type:"text/plain"}),t=URL.createObjectURL(o),s=document.createElement("a");s.href=t,s.download="base64-encoded.txt",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},z=o=>{const s=o.target.files?.[0];if(!s)return;if(s.size>10*1024*1024){alert("文件大小不能超过10MB");return}f.value=s.name,x.value=M(s.size),y.value=s.type||"未知类型";const g=new FileReader;g.onload=S=>{const N=S.target?.result;u.value=N},g.readAsDataURL(s)},M=o=>{const t=["B","KB","MB","GB"];if(o===0)return"0 B";const s=Math.floor(Math.log(o)/Math.log(1024));return Math.round(o/Math.pow(1024,s)*100)/100+" "+t[s]},T=async()=>{try{await navigator.clipboard.writeText(u.value)}catch(o){console.error("复制失败:",o)}},F=()=>{const o=new Blob([u.value],{type:"text/plain"}),t=URL.createObjectURL(o),s=document.createElement("a");s.href=t,s.download=`${f.value}.base64.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)};return(o,t)=>(m(),v("div",O,[e("div",E,[e("div",$,[e("div",A,[t[3]||(t[3]=e("h2",{class:"text-xl font-semibold"},"文本编码",-1)),e("button",{onClick:U,class:"btn btn-secondary btn-sm",disabled:!d.value.trim()}," 清空 ",8,q)]),_(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),placeholder:"输入要编码的文本...",class:"textarea min-h-[200px] resize-y"},null,512),[[B,d.value]]),e("button",{onClick:R,class:"btn btn-primary w-full",disabled:!d.value.trim()}," 编码为 Base64 ",8,G)]),e("div",H,[e("div",J,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold"},"Base64解码",-1)),e("button",{onClick:I,class:"btn btn-secondary btn-sm",disabled:!i.value.trim()}," 清空 ",8,K)]),_(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.value=s),placeholder:"输入要解码的Base64字符串...",class:"textarea min-h-[200px] resize-y font-mono text-sm"},null,512),[[B,i.value]]),e("button",{onClick:C,class:"btn btn-primary w-full",disabled:!i.value.trim()}," 解码 Base64 ",8,P),c.value?(m(),v("div",Q,[e("p",W,a(c.value),1)])):b("",!0)])]),l.value?(m(),v("div",X,[e("div",Y,[e("h3",Z,a(r.value==="encode"?"Base64编码结果":"解码结果"),1),e("div",ee,[e("button",{onClick:L,class:"btn btn-primary btn-sm"}," 复制结果 "),r.value==="encode"?(m(),v("button",{key:0,onClick:j,class:"btn btn-secondary btn-sm"}," 下载文件 ")):b("",!0)])]),e("div",te,[e("pre",se,a(l.value),1)]),e("div",oe," 原始长度: "+a(k.value)+" 字符 | 结果长度: "+a(l.value.length)+" 字符 | 压缩比: "+a(w.value),1)])):b("",!0),e("div",le,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold mb-4"},"文件Base64编码",-1)),e("div",ae,[e("div",ne,[e("input",{ref:"fileInput",type:"file",onChange:z,class:"hidden"},null,544),e("button",{onClick:t[2]||(t[2]=s=>o.$refs.fileInput?.click()),class:"btn btn-primary"}," 选择文件 "),t[5]||(t[5]=e("p",{class:"text-sm text-muted-foreground mt-2"}," 支持任意文件类型，最大支持 10MB ",-1))]),u.value?(m(),v("div",de,[e("div",ie,[e("div",null,[t[6]||(t[6]=e("span",{class:"font-medium"},"文件名:",-1)),p(" "+a(f.value),1)]),e("div",null,[t[7]||(t[7]=e("span",{class:"font-medium"},"文件大小:",-1)),p(" "+a(x.value),1)]),e("div",null,[t[8]||(t[8]=e("span",{class:"font-medium"},"文件类型:",-1)),p(" "+a(y.value),1)]),e("div",null,[t[9]||(t[9]=e("span",{class:"font-medium"},"Base64长度:",-1)),p(" "+a(u.value.length)+" 字符 ",1)])]),e("div",re,[e("div",{class:"flex items-center justify-between"},[t[10]||(t[10]=e("label",{class:"text-sm font-medium"},"Base64 Data URI",-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:T,class:"btn btn-primary btn-sm"}," 复制 "),e("button",{onClick:F,class:"btn btn-secondary btn-sm"}," 下载 ")])]),e("textarea",{value:u.value,readonly:"",class:"textarea min-h-[150px] resize-y font-mono text-xs"},null,8,ce)])])):b("",!0)])]),t[12]||(t[12]=D('<div class="card p-6"><h3 class="text-lg font-semibold mb-4">使用说明</h3><div class="space-y-3 text-sm"><div><strong>Base64编码:</strong> 将二进制数据转换为ASCII字符串的编码方式，常用于在文本协议中传输二进制数据。 </div><div><strong>应用场景:</strong><ul class="list-disc list-inside ml-4 space-y-1"><li>邮件附件传输</li><li>网页中嵌入图片(Data URI)</li><li>HTTP Basic认证</li><li>JSON中传输二进制数据</li></ul></div><div><strong>注意事项:</strong> Base64编码会使数据大小增加约33%，不是加密算法，仅用于编码传输。 </div></div></div>',1))]))}});export{me as default};
